[2026-02-23 17:24:37 CST] Phase 1 kickoff
- Created project module folders: backend/, workers/, frontend/, skill/, docs/, config/.
- Added foundation docs: architecture, data model, draft SQL schema.
- Added environment contracts: .env.example + config/env.contract.md.
- Learning: keep raw scraped data references (raw_payload_ref/notes_ref) separate from AI-derived analyses for auditability and prompt regression debugging.
- Learning: enforce explainability in schema early (rationale + confidence) so comparison UX is grounded from day one.

[2026-02-23 17:26:13 CST] Phase 2 started (ingestion skeleton)
- Added workers package with Scrapling-based GitHub ingestor skeleton.
- Added typed config parsing + MONITORED_REPOS URL validation/dedup.
- Added normalized event models and analysis output schema (change_type, impact, confidence, rationale).
- Added workers run entrypoint and setup docs.
- Learning: URL validation at config boundary prevents noisy runtime failures in worker loops.
- Learning: using typed schemas for analysis output early makes later OpenAI JSON-mode integration safer.

[2026-02-23 17:33:41 CST] Phase 2.1 (parsing + persistence wiring)
- Implemented resilient GitHub release parsing heuristics from /releases HTML via Scrapling responses.
- Added snapshot metadata extraction (default branch, stars/forks heuristic, latest release tag).
- Added local JSONL store adapter for repository_snapshots, release_events, normalized_events.
- Updated ingestion entrypoint to normalize and persist artifacts per repository.
- Learning: parser resilience on GitHub pages requires fallback heuristics because exact selectors can drift; keep parsing bounded + deduped.
- Learning: introducing a file-backed persistence adapter early speeds iteration before full DB/ORM integration.

[2026-02-23 18:06:42 CST] Phase 2.2 (DB persistence + idempotency baseline)
- Added PostgreSQL persistence module with repository upsert + release/snapshot writes.
- Added idempotency helper (SHA256 dedupe keys) and ingestion persist orchestrator.
- Updated worker main flow: always write JSONL artifacts + optionally persist to DB when DATABASE_URL exists.
- Added schema unique indexes for snapshot and release de-dup behavior.
- Learning: dual-write (file artifacts + DB) gives safer debugging and replay paths during early ingestion stabilization.
- Learning: idempotency should be explicit in both code and schema (keys + unique indexes), not one alone.

[2026-02-23 19:13:03 CST] Phase 3 kickoff (analysis + comparison pipeline baseline)
- Added OpenAI analyzer client with strict JSON response format and fallback heuristic mode.
- Added prompt builder + typed analysis schema validation for safe output handling.
- Added executive comparison scoring and run payload builder.
- Updated ingestion flow to run analyses for normalized events and emit comparison runs (file + optional DB).
- Learning: always keep a deterministic fallback analyzer path so pipeline can run in dev/test without external API keys.
- Learning: schema-validated model output should happen immediately after API response parsing to fail fast and prevent dirty writes.

